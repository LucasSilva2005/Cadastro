<!DOCTYPE html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastro Simples</title>
  <link rel="stylesheet" href="styles.css" />
 </head>
 <body>
  <div class="container">
   <h1>Cadastro</h1>
   <form id="signup-form">
    <div class="form-group">
     <label for="email">E-mail:</label>
     <input type="email" id="email" name="email" required />
    </div>
    <div class="form-group">
     <label for="password">Senha:</label>
     <input type="password" id="password" name="password" required />
    </div>
    <button type="submit" id="criar">Cadastrar</button>
   </form>
  </div>
  <script type="module">
   import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js'
   import {
    getAuth,
    createUserWithEmailAndPassword
   } from 'https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js'

   const firebaseConfig = {
    apiKey: 'AIzaSyD56WlYQDn2_rgVK7NYjFVbpSWxwnPOQnU',
    authDomain: 'teste-8f924.firebaseapp.com',
    projectId: 'teste-8f924',
    storageBucket: 'teste-8f924.appspot.com',
    messagingSenderId: '1035062822428',
    appId: '1:1035062822428:web:5a26aafb2585b1f7d601d9'
   }

   const app = initializeApp(firebaseConfig)
   const auth = getAuth(app)

   document
    .getElementById('signup-form')
    .addEventListener('submit', function (event) {
     event.preventDefault() // Previne o envio do formulário e recarregamento da página

     const email = document.getElementById('email').value
     const password = document.getElementById('password').value

     createUserWithEmailAndPassword(auth, email, password)
      .then(userCredential => {
       // Usuário cadastrado com sucesso
       const user = userCredential.user
       alert('Cadastro realizado com sucesso!')
      })
      .catch(error => {
       // Exibe mensagem de erro
       const errorCode = error.code
       const errorMessage = error.message
       alert(`Erro: ${errorMessage}`)
      })
    })
  </script>
 </body>
</html>
